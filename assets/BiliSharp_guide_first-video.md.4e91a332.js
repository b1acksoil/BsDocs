import{_ as s,c as a,o as n,a as l}from"./app.ec4943ab.js";const A=JSON.parse('{"title":"获取第一个视频","description":"","frontmatter":{},"headers":[{"level":2,"title":"安装","slug":"安装","link":"#安装","children":[]},{"level":2,"title":"获取信息","slug":"获取信息","link":"#获取信息","children":[]},{"level":2,"title":"视频操作","slug":"视频操作","link":"#视频操作","children":[]}],"relativePath":"BiliSharp/guide/first-video.md","lastUpdated":1671015154000}'),p={name:"BiliSharp/guide/first-video.md"},o=l(`<h1 id="获取第一个视频" tabindex="-1">获取第一个视频 <a class="header-anchor" href="#获取第一个视频" aria-hidden="true">#</a></h1><h2 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-hidden="true">#</a></h2><p>首先在项目中安装 BiliSharp。推荐使用 IDE 自带的 NuGet 管理器安装，也可以执行以下命令</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#ABB2BF;">dotnet add package BiliSharp</span></span>
<span class="line"></span></code></pre></div><h2 id="获取信息" tabindex="-1">获取信息 <a class="header-anchor" href="#获取信息" aria-hidden="true">#</a></h2><p>接下来，查询视频 <a href="https://www.bilibili.com/video/BV1Js411o76u" target="_blank" rel="noreferrer">av810872</a> 的信息，并打印视频的基本信息</p><div class="language-csharp"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki"><code><span class="line"><span style="color:#C678DD;">using</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">BiliSharp</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">using</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">BiliSharp</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">Models</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;">// 使用 av 号初始化视频实例</span></span>
<span class="line"><span style="color:#C678DD;">var</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">video</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">new</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">BiliVideo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">810872</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;">Console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">WriteLine</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">$&quot;BV号：{</span><span style="color:#E5C07B;">video</span><span style="color:#98C379;">.</span><span style="color:#E5C07B;">BvId</span><span style="color:#98C379;">}&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;">// 获取视频信息</span></span>
<span class="line"><span style="color:#C678DD;">var</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">info</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">video</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">GetInfo</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;">Console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">WriteLine</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">$&quot;标题：{</span><span style="color:#E5C07B;">info</span><span style="color:#98C379;">.</span><span style="color:#E5C07B;">Title</span><span style="color:#98C379;">}&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">Console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">WriteLine</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">$&quot;UP：{</span><span style="color:#E5C07B;">info</span><span style="color:#98C379;">.</span><span style="color:#E5C07B;">Owner</span><span style="color:#98C379;">.</span><span style="color:#E5C07B;">Name</span><span style="color:#98C379;">}&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">Console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">WriteLine</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">$&quot;简介：{</span><span style="color:#E5C07B;">info</span><span style="color:#98C379;">.</span><span style="color:#E5C07B;">Description</span><span style="color:#98C379;">}&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span></code></pre></div><p>输出</p><div class="language-text"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki"><code><span class="line"><span style="color:#abb2bf;">BV号：BV1Js411o76u</span></span>
<span class="line"><span style="color:#abb2bf;">标题：【炮姐/AMV】我永远都会守护在你的身边！</span></span>
<span class="line"><span style="color:#abb2bf;">UP：暗猫の祝福</span></span>
<span class="line"><span style="color:#abb2bf;">简介：自制 本人的第二个AMV作品，从妹妹篇结束后便开始构思了，具体九月开始挖的坑，于2013年10月26日完稿。</span></span>
<span class="line"><span style="color:#abb2bf;">顺便联动一下我的魔禁/超炮AMV：av4545451</span></span>
<span class="line"><span style="color:#abb2bf;">记得让弹幕多样化一些噢~喜欢的话点个关注，大感谢~</span></span>
<span class="line"><span style="color:#abb2bf;"></span></span></code></pre></div><h2 id="视频操作" tabindex="-1">视频操作 <a class="header-anchor" href="#视频操作" aria-hidden="true">#</a></h2><p>对于那些需要登录的操作（例如点赞、投币等），需要先<a href="./get-credential.html">获取认证信息</a>，并实例化 <code>BiliCredential</code> 类传入</p><div class="language-csharp"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki"><code><span class="line"><span style="color:#C678DD;">var</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">credential</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">new</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">BiliCredential</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">SessData</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&quot;&lt;SESSDATA 值&gt;&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">BiliJct</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&quot;&lt;bili_jct&gt; 值&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">Buvid3</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&quot;&lt;buvid3 值&gt;&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">var</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">video</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">new</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">BiliVideo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">170001</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">credential</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span></code></pre></div><p>接下来，只需一行代码即可给视频三连</p><div class="language-csharp"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki"><code><span class="line"><span style="color:#E5C07B;">video</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">SetTriple</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"></span></code></pre></div><p>注意 <code>BiliSharp</code> 中的操作遇到错误会直接抛出异常，请自行做好 <code>try catch</code> 处理。</p>`,15),e=[o];function t(c,r,B,i,y,d){return n(),a("div",null,e)}const F=s(p,[["render",t]]);export{A as __pageData,F as default};
